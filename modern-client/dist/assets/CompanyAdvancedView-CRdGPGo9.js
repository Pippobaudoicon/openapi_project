import{f as y,q as h,c as n,a as e,h as g,w as b,v as w,B as k,i as m,m as A,t as i,F as D,s as C,o as d}from"./index-Cy8y1Ck6.js";import{u as V}from"./company-C-ste4eM.js";const N={class:"space-y-6"},S={class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},B={class:"flex gap-4"},L={class:"flex-1"},E=["disabled"],K={key:0,class:"spinner mr-2"},M={key:0,class:"bg-red-50 border border-red-200 rounded-xl p-4"},z={class:"flex items-center"},F={class:"text-red-700"},I={key:1,class:"bg-white rounded-xl shadow-sm border border-gray-200 p-6"},R={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},T={class:"text-sm font-medium text-gray-500 capitalize"},$={class:"text-sm text-gray-900"},q={class:"mt-6 pt-6 border-t border-gray-200"},G={key:0,class:"mt-4 bg-gray-50 rounded-lg p-4 text-xs overflow-auto"},P={__name:"CompanyAdvancedView",setup(H){const l=V(),c=y(""),u=y(null),p=y(!1),v=async()=>{if(c.value)try{const t=await l.getCompanyAdvanced(c.value);u.value=t.data}catch(t){console.error("Error fetching advanced data:",t)}},f=h(()=>{if(!u.value)return{};const t=(s,r="")=>{let a={};for(const o in s)s[o]!==null&&typeof s[o]=="object"&&!Array.isArray(s[o])?a={...a,...t(s[o],r+o+".")}:a[r+o]=s[o];return a};return t(u.value)}),x=t=>t.replace(/[._]/g," ").replace(/([A-Z])/g," $1").trim(),_=t=>t==null?"N/A":typeof t=="boolean"?t?"Yes":"No":Array.isArray(t)?t.join(", "):String(t);return(t,s)=>(d(),n("div",N,[e("div",S,[s[2]||(s[2]=e("h1",{class:"text-2xl font-bold text-gray-900 mb-4"},"Advanced Company Data",-1)),e("div",B,[e("div",L,[b(e("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>c.value=r),type:"text",placeholder:"Enter P.IVA (e.g., 12345678901)",class:"input-field",onKeyup:k(v,["enter"])},null,544),[[w,c.value]])]),e("button",{onClick:v,disabled:!c.value||m(l).isLoading,class:"btn-primary"},[m(l).isLoading?(d(),n("svg",K)):g("",!0),A(" "+i(m(l).isLoading?"Loading...":"Get Advanced Data"),1)],8,E)])]),m(l).error?(d(),n("div",M,[e("div",z,[s[3]||(s[3]=e("svg",{class:"w-5 h-5 text-red-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("p",F,i(m(l).error),1)])])):g("",!0),u.value?(d(),n("div",I,[s[4]||(s[4]=e("div",{class:"flex items-center justify-between mb-6"},[e("h2",{class:"text-xl font-semibold text-gray-900"},"Company Information"),e("span",{class:"bg-green-100 text-green-800 text-sm font-medium px-3 py-1 rounded-full"}," Advanced Data ")],-1)),e("div",R,[(d(!0),n(D,null,C(f.value,(r,a)=>(d(),n("div",{key:a,class:"space-y-1"},[e("dt",T,i(x(a)),1),e("dd",$,i(_(r)),1)]))),128))]),e("div",q,[e("button",{onClick:s[1]||(s[1]=r=>p.value=!p.value),class:"text-sm text-gray-600 hover:text-gray-900 transition-colors"},i(p.value?"Hide":"Show")+" Raw Data ",1),p.value?(d(),n("pre",G,i(JSON.stringify(u.value,null,2)),1)):g("",!0)])])):g("",!0)]))}};export{P as default};
