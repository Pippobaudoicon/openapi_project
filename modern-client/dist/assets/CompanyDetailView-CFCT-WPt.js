import{g as C,c as a,w as d,a as t,m as h,t as r,i as n,F as w,s as k,x as A,y as F,e as m,o as i}from"./index-Cy8y1Ck6.js";import{u as N}from"./company-C-ste4eM.js";const R={class:"space-y-6"},D={class:"flex items-center space-x-4"},V={class:"text-gray-600 mt-1"},L={key:0,class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},S={class:"lg:col-span-2 space-y-6"},B={key:1,class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},T={class:"lg:col-span-2 space-y-6"},E={class:"card"},M={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},z={class:"text-gray-900"},G={class:"text-gray-900"},I={class:"text-gray-900"},U={class:"text-gray-900"},j={class:"card"},q={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},$={class:"text-center p-4 bg-green-50 rounded-xl"},O={class:"text-2xl font-bold text-green-600"},P={class:"text-center p-4 bg-blue-50 rounded-xl"},H={class:"text-2xl font-bold text-blue-600"},J={class:"text-center p-4 bg-purple-50 rounded-xl"},K={class:"text-2xl font-bold text-purple-600"},Q={class:"space-y-6"},W={class:"card"},X={class:"space-y-3"},Y=["disabled"],Z=["disabled"],tt=["disabled"],et={class:"card"},st={class:"flex items-center space-x-3"},ot={class:"text-gray-900"},nt={key:2,class:"text-center py-12"},it={__name:"CompanyDetailView",props:{piva:{type:String,required:!0}},setup(c){const l=c;F();const o=N(),g=async()=>{try{await o.getCompanyAdvanced(l.piva)}catch(s){console.error("Failed to get advanced report:",s)}},y=async()=>{try{await o.getCompanyFull(l.piva)}catch(s){console.error("Failed to get full report:",s)}},v=async()=>{try{await o.getVisureReport(l.piva)}catch(s){console.error("Failed to get visure report:",s)}},x=s=>s?new Intl.NumberFormat("it-IT",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(s):"N/A",b=s=>{switch(s==null?void 0:s.toLowerCase()){case"active":case"attiva":return"bg-green-500";case"inactive":case"inattiva":return"bg-red-500";case"suspended":case"sospesa":return"bg-yellow-500";default:return"bg-gray-500"}},_=s=>s?s.charAt(0).toUpperCase()+s.slice(1).toLowerCase():"Unknown";return C(async()=>{try{await o.getCompanyAdvanced(l.piva)}catch(s){console.error("Failed to load company details:",s)}}),(s,e)=>{const f=m("motion-slide-visible-once-top"),u=m("motion-fade-visible-once");return i(),a("div",R,[d((i(),a("div",D,[t("button",{onClick:e[0]||(e[0]=p=>s.$router.go(-1)),class:"btn-secondary"},e[1]||(e[1]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),h(" Back ")])),t("div",null,[e[2]||(e[2]=t("h1",{class:"text-2xl font-bold text-gray-900"},"Company Details",-1)),t("p",V,"VAT: "+r(c.piva),1)])])),[[f]]),n(o).isLoading?(i(),a("div",L,[t("div",S,[(i(),a(w,null,k(3,p=>t("div",{key:p,class:"card animate-pulse"},e[3]||(e[3]=[t("div",{class:"h-6 bg-gray-200 rounded mb-4"},null,-1),t("div",{class:"space-y-2"},[t("div",{class:"h-4 bg-gray-200 rounded"}),t("div",{class:"h-4 bg-gray-200 rounded w-3/4"})],-1)]))),64))]),e[4]||(e[4]=t("div",{class:"space-y-6"},[t("div",{class:"card animate-pulse"},[t("div",{class:"h-6 bg-gray-200 rounded mb-4"}),t("div",{class:"h-32 bg-gray-200 rounded"})])],-1))])):n(o).currentCompany?d((i(),a("div",B,[t("div",T,[t("div",E,[e[9]||(e[9]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Company Information",-1)),t("div",M,[t("div",null,[e[5]||(e[5]=t("label",{class:"text-sm font-medium text-gray-500"},"Company Name",-1)),t("p",z,r(n(o).currentCompany.denominazione||"N/A"),1)]),t("div",null,[e[6]||(e[6]=t("label",{class:"text-sm font-medium text-gray-500"},"VAT Number",-1)),t("p",G,r(n(o).currentCompany.piva||"N/A"),1)]),t("div",null,[e[7]||(e[7]=t("label",{class:"text-sm font-medium text-gray-500"},"Province",-1)),t("p",I,r(n(o).currentCompany.provincia||"N/A"),1)]),t("div",null,[e[8]||(e[8]=t("label",{class:"text-sm font-medium text-gray-500"},"City",-1)),t("p",U,r(n(o).currentCompany.comune||"N/A"),1)])])]),t("div",j,[e[13]||(e[13]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Financial Data",-1)),t("div",q,[t("div",$,[t("div",O,r(x(n(o).currentCompany.fatturato)),1),e[10]||(e[10]=t("div",{class:"text-sm text-green-700"},"Revenue",-1))]),t("div",P,[t("div",H,r(n(o).currentCompany.dipendenti||"N/A"),1),e[11]||(e[11]=t("div",{class:"text-sm text-blue-700"},"Employees",-1))]),t("div",J,[t("div",K,r(n(o).currentCompany.codice_ateco||"N/A"),1),e[12]||(e[12]=t("div",{class:"text-sm text-purple-700"},"ATECO Code",-1))])])])]),t("div",Q,[t("div",W,[e[14]||(e[14]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Actions",-1)),t("div",X,[t("button",{onClick:g,disabled:n(o).isLoading,class:"w-full btn-primary"}," Get Advanced Report ",8,Y),t("button",{onClick:y,disabled:n(o).isLoading,class:"w-full btn-secondary"}," Get Full Report ",8,Z),t("button",{onClick:v,disabled:n(o).isLoading,class:"w-full btn-secondary"}," Get Visure Report ",8,tt)])]),t("div",et,[e[15]||(e[15]=t("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Status",-1)),t("div",st,[t("div",{class:A(["w-3 h-3 rounded-full",b(n(o).currentCompany.stato)])},null,2),t("span",ot,r(_(n(o).currentCompany.stato)),1)])])])])),[[u]]):d((i(),a("div",nt,e[16]||(e[16]=[t("svg",{class:"w-16 h-16 text-red-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),t("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Company not found",-1),t("p",{class:"text-gray-600"},"The requested company could not be found.",-1)]))),[[u]])])}}};export{it as default};
